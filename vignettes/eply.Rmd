---
title: "eply"
author: "Will Landau"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---


# Basic usage

```{r}
library(eply)
```

The function `eply()` is like `apply()` except that the dataset is a bunch of expressions that are lazily evaluated into function arguments.

Begin with a function to apply iteratively.
```{r}
example.fun
```

Then, make a data frame of function arguments.
```{r}
library(eply)
example.expr()
```

Each row is a function call. The elements are converted from text to expressions, evaluated, and then passed to the function.

```{r}
eply(.fun = example.fun, .expr = example.expr())
```

# The `strings()` function

The `strings()` function can help make the `.expr` data frame.

```{r}
data.frame(
  arg1 = strings(a + b, sqrt(x) - 2), 
  arg2 = 1:2)
```

# Parallel execution

For Mac and Linux users, `parallel::mclapply()` is leveraged to distribute the work over multiple parallel tasks.

```{r, eval = F}
eply(.fun = example.fun, .expr = example.expr(), .split = strings(y, rep), .tasks = 2)
```

Above, `.expr` is split into multiple pieces, one for each unique combination of `y` and `rep`. These pieces are processed in parallel (in this case, 2 at a time).
