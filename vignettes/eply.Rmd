---
title: "eply"
author: "William Michael Landau"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

# Basic usage

```{r}
library(eply)
```

`eply()` applies a function over a data frame of expressions.

Begin with a function.
```{r}
.fun = example.fun
.fun
```

Then, make a data frame of expressions that return arguments to `.fun`.
```{r}
library(eply)
.expr = example.expr()
.expr
str(.expr) # The expressions are actually just characters.
```

For each row of `.expr`, evaluate the expressions and feed the results to `.fun`.

```{r}
eply(.fun = example.fun, .expr = example.expr())
```

# The `strings()` function

The `strings()` function can help create `.expr`.

```{r}
data.frame(
  arg1 = strings(a + b, sqrt(x) - 2), 
  arg2 = 1:2)
```

# Parallel execution

For Mac and Linux users, `parallel::mclapply()` can distribute the work over multiple parallel tasks behind the scenes.

```{r, eval = F}
eply(.fun = example.fun, .expr = example.expr(), .split = strings(y, rep), .tasks = 2)
```

Above, `.expr` splits into multiple pieces, one for each unique combination of `y` and `rep`. These pieces are processed in parallel (in this case, 2 at a time).
